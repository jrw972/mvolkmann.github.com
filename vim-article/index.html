<!DOCTYPE html>
<html>
  <head>
    <title>Vim Jump Start</title>
    <style type="text/css">
      blockquote {
        border: solid lightgray 2px;
        margin-left: 0;
        padding: 10px;
      }
      body {
        font-family: sans-serif;
        margin: 20px 40px;
      }
      .center {
        text-align: center;
      }
      code {
        background-color: lightyellow;
        font-weight: bold;
        padding: 3px 2px;
      }
      div {
        margin-bottom: 10px;
      }
      #vim-logo {
        width: 300px;
      }
      h1, h3 {
        color: blue;
      }
      h2 {
        border-top: solid red 3px;
        color: purple;
        padding-top: 20px;
        text-decoration: underline;
      }
      h4 {
        color: purple;
      }
      img {
        margin: 10px 0;
        width: 800px;
      }
      .left {
        text-align: left;
      }
      #lscolors {
        width: 200px;
      }
      pre {
        background-color: lightyellow;
        font-weight: bold;
        width: 800px;
      }
      table {
        border-collapse: collapse;
        margin-bottom: 15px;
      }
      table th, table td {
        border: solid lightgray 1px;
        padding: 5px;
      }
      td {
        vertical-align: top;
      }
      .toc > .level1 {
        font-weight: bold;
        margin-left: 0;
        margin-top: 10px;
      }
      .toc > .level2 {
        margin-left: 16px;
      }
      .toc > .level3 {
        font-size: 14px;
        margin-left: 32px;
      }

      @media print {
        margin: 1in;
      }
    </style>
  </head>
  <body>
    <h1>Vim Jump Start</h1>
    <div>
      by Mark Volkmann<br>
      mark@objectcomputing.com<br>
      Object Computing, Inc.<br>
      December 2017
    </div>
    <h4>
      Move past the basics quickly!
    </h4>
    <a href="http://www.vim.org" target="_blank">
      <img id="vim-logo" src="vim-logo.png" alt="Vim logo">
    </a>

    <h3>Table of Contents</h3>
    <ul class="toc">
      <li class="level1"><a href="#Overview">Overview</a></li>

      <li class="level1"><a href="#Installing">Installing</a></li>
      <li class="level1"><a href="#Starting">Starting</a></li>
      <li class="level1"><a href="#Modes">Modes</a></li>
      <li class="level2"><a href="#CommandMode">Command Mode</a></li>
      <li class="level2"><a href="#InsertMode">Insert Mode</a></li>
      <li class="level2"><a href="#VisualMode">Visual Mode</a></li>
      <li class="level1"><a href="#Movement">Movement</a></li>
      <li class="level1"><a href="#WritingAndQuitting">Writing and Quitting</a></li>
      <li class="level1"><a href="#netrw">netrw</a></li>
      <li class="level1"><a href="#Buffers">Buffers</a></li>
      <li class="level1"><a href="#Splits">Splits</a></li>
      <li class="level1"><a href="#Macros">Macros</a></li>
      <li class="level1"><a href="#Summary">Summary</a></li>
      <li class="level1"><a href="#Acknowledgments">Acknowledgments</a></li>
    </ul>

    <h3><a name="Overview">Overview</a></h3>
    <div>
      Many software developers know a little bit about Vim
      and grudgingly use it when nothing else is available.
      This article aims to quickly make you more productive
      when using Vim and perhaps even convince you
      that there are reasons to prefer it over other editors.
      Even if you don't adopt Vim as your primary editor,
      you may wish to enable a Vim mode in your editor/IDE of choice.
    </div>
    <div>
      The primary goal of this article is to make you
      more productive without requiring any
      custom configuration or plugins.
      This is not to suggest that you shouldn't customize
      Vim or use plugins, just that it isn't necessary
      in order to be productive.
      By learning only a few things,
      you can make the experience of using Vim much nicer.
    </div>
    <div>
      There are many Vim cheatsheets on the web.
      The first five sections of this article repeat
      the most frequently used parts of that information.
      If you already have Vim installed and understand the basics,
      feel free to skip ahead to the <a href="#netrw">netrw</a> section.
    </div>

    <h3><a name="Installing">Installing</a></h3>
    <div>
      If you are working on a Mac or a Linux system,
      Vim is already installed.
      However, you may wish to install a newer version.
    </div>
    <div>
      To install Vim in Windows, browse
      <a href="https://vim.sourceforge.io/download.php#pc">https://vim.sourceforge.io/download.php#pc</a>,
      select an installer to download,
      and run it.
    </div>
    <div>
      To install Vim in macOS, first install Homebrew
      (<a href="https://brew.sh/">https://brew.sh/</a>).
      Then open a Terminal window and enter "brew install vim".
      Alternatively, install MacVim by browsing
      <a href="https://macvim-dev.github.io/macvim/">https://macvim-dev.github.io/macvim/</a>.
    </div>
    <div>
      To install Vim in Linux ...
      If you are using Linux you likely already know how to do this.
    </div>

    <h3><a name="Starting">Starting</a></h3>
    <div>
      If using a GUI version of Vim like MacVim,
      double-click the application icon to start it.
      If using a terminal-based version of Vim,
      open a terminal (or Command Prompt in Windows)
      and enter <code>vim</code>.
      This can be followed by a file path to open a
      specific file, but as we'll see it is very easy
      to locate and open files from within Vim.
    </div>
    <div>
      Next, we will cover some Vim basics including
      modes, commands, writing, and quitting.
      It would be easy to go overboard.
      We just want to hit the highlights to get you started.
      This will be review for many of you.
    </div>

    <h3><a name="Modes">Modes</a></h3>
    <div>
      Vim is a modal editor.
      That means you are always operating in a specific "mode".
      Key presses behave differently based on the current mode.
      The most commonly used modes are command, insert, and visual.
    </div>
    <div>
      For those that dislike Vim,
      modes are typically the primary reason.
      Interestingly this is also true for those that like Vim!
      Modes are the key to why working in Vim is so efficient.
      They are also a major distinguishing factor
      between Vim and emacs.
    </div>

    <h4><a name="CommandMode">Command Mode</a></h4>
    <div>
      This mode is for running commands,
      many of which operate on text in the current buffer.
      There are many keys that can be pressed to run a command,
      but the mostly commonly used are these:
    </div>
    <table summary="command mode keys">
      <tr>
        <th class="center">Key</th>
        <th class="left">Action</th>
      </tr>
      <tr>
        <td class="center"><code>cw</code></td>
        <td>changes word starting at cursor;<br>
          removes word and enters insert mode
          so replacement can be entered
        </td>
      </tr>
      <tr>
        <td class="center"><code>c$</code></td>
        <td>changes everything from cursor to end of line;<br>
          removes rest of line and enters insert mode
          so replacement can be entered
        </td>
      </tr>
      <tr>
        <td class="center"><code>dd</code></td>
        <td>deletes current line, placing it in the clipboard</td>
      </tr>
      <tr>
        <td class="center"><code>dw</code></td>
        <td>deletes word starting at cursor, placing it in the clipboard</td>
      </tr>
      <tr>
        <td class="center"><code>d$</code></td>
        <td>deletes from cursor to end of current line,
          placing it in the clipboard</td>
      </tr>
      <tr>
        <td class="center"><code>dt</code> followed<br>by a character</td>
        <td>deletes from cursor "to" first occurrence of specified character,<br>
          placing it in the clipboard</td>
      </tr>
      <tr>
        <td class="center"><code>J</code></td>
        <td>joins next line to current line</td>
      </tr>
      <tr>
        <td class="center"><code>p</code></td>
        <td>pastes clipboard contents
          after character under cursor</td>
      </tr>
      <tr>
        <td class="center"><code>P</code></td>
        <td>pastes clipboard contents
          before character under cursor</td>
      </tr>
      <tr>
        <td class="center"><code>r</code></td>
        <td>replaces character under cursor
          with next character typed
        </td>
      </tr>
      <tr>
        <td class="center"><code>u</code></td>
        <td>undoes last change; press repeatedly to undo multiple changes</td>
      </tr>
      <tr>
        <td class="center">ctrl-<code>r</code></td>
        <td>reverses last undo; press repeatedly to redo multiple undo's</td>
      </tr>
      <tr>
        <td class="center"><code>y</code></td>
        <td>yanks (copies) character under cursor into the clipboard</td>
      </tr>
      <tr>
        <td class="center"><code>yw</code></td>
        <td>yanks (copies) word starting at cursor into the clipboard</td>
      </tr>
      <tr>
        <td class="center"><code>yy</code></td>
        <td>yanks (copies) current line into the clipboard</td>
      </tr>
      <tr>
        <td class="center"><code>y$</code></td>
        <td>yanks (copies) characters from cursor
          to end of current line into the clipboard</td>
      </tr>
      <tr>
        <td class="center"><code>x</code></td>
        <td>cuts character under cursor, placing it in the clipboard</td>
      </tr>
      <tr>
        <td class="center"><code>z</code> enter</td>
        <td>moves current line to top;<br>
          especially useful when cursor is on
          the first line of a long function definition<br>
          and you want to see as much code as possible
          on the screen at once
        </td>
      </tr>
      <tr>
        <td class="center"><code>~</code></td>
        <td>toggles case of character under cursor</td>
      </tr>
      <tr>
        <td class="center"><code>.</code></td>
        <td>repeats last command;<br>
          It cannot be overemphasized how useful this is!</td>
      </tr>
      <tr>
        <td class="center"><code>/<i>text</i></code> or<br>
          <code>/<i>regex</i></code> </td>
        <td>finds the next occurrence of the specified text;<br>
          press <code>n</code> to repeat the search forward<br>
          or <code>N</code> to repeat the search backward</td>
      </tr>
      <tr>
        <td class="center"><code>%s/<i>old</i>/<i>new</i>/g</code> or<br>
          <code>%s/<i>regex</i>/<i>new</i>/g</code> </td>
        <td>replaces all occurrences of matching text in the entire file
          with the specified text;<br>
          add <code>c</code> to end of command to confirm each replacement
        </td>
      </tr>
      <tr>
        <td class="center"><code>:set number</code><br>or <code>:set nu</code></td>
        <td>shows line numbers</td>
      </tr>
      <tr>
        <td class="center"><code>:set nonumber</code><br>or <code>:set nonu</code></td>
        <td>hides line numbers</td>
      </tr>
    </table>
    <div>
      Many commands can be preceded by a number
      to execute the command that many times.
      For example, <code>3dd</code> deletes three lines
      starting with the current one.
    </div>
    <div>
      Also see keys for movement described <a href="#Movement">later</a>.
    </div>

    <h4><a name="InsertMode">Insert Mode</a></h4>
    <div>
       This mode is for inserting text into the current buffer.
       There are many keys that can be pressed to enter insert mode.
    </div>
    <table summary="insert mode keys">
      <tr>
        <th class="center">Key</th>
        <th class="left">Enters Insert Mode ...</th>
      </tr>
      <tr>
        <td class="center"><code>i</code></td>
        <td>before character under cursor</td>
      </tr>
      <tr>
        <td class="center"><code>a</code></td>
        <td>after character under cursor</td>
      </tr>
      <tr>
        <td class="center"><code>I</code></td>
        <td>before first non-whitespace character on current line</td>
      </tr>
      <tr>
        <td class="center"><code>A</code></td>
        <td>after last character on current line</td>
      </tr>
      <tr>
        <td class="center"><code>o</code></td>
        <td>opening new line below current line</td>
      </tr>
      <tr>
        <td class="center"><code>O</code></td>
        <td>opening new line above current line</td>
      </tr>
      <tr>
        <td class="center">esc or ctrl-<code>[</code></td>
        <td>exits insert mode and returns to command mode</td>
      </tr>
    </table>

    <h4><a name="VisualMode">Visual Mode</a></h4>
    <div>
      This mode allows selecting text visually,
      either by characters or by lines.
      After entering visual mode,
      move to the opposite end of the desired selection
      and enter a command to act on the selection.
    </div>
    <table summary="visual mode keys">
      <tr>
        <th class="center">Key</th>
        <th class="left">Enters Insert Mode ...</th>
      </tr>
      <tr>
        <td class="center"><code>v</code></td>
        <td>enters character-based visual mode</td>
      </tr>
      <tr>
        <td class="center"><code>V</code></td>
        <td>enters line-based visual mode</td>
      </tr>
      <tr>
        <td class="center"><code>x</code></td>
        <td>cuts selected text and exits visual mode</td>
      </tr>
      <tr>
        <td class="center"><code>y</code></td>
        <td>yanks (copies) selected text into the clipboard
          and exits visual mode</td>
      </tr>
      <tr>
        <td class="center"><code>~</code></td>
        <td>toggles case of all selected characters
          and exits visual mode</td>
      </tr>
      <tr>
        <td class="center">esc or ctrl-<code>[</code></td>
        <td>exits visual mode and returns to command mode</td>
      </tr>
    </table>

    <h3><a name="Movement">Movement</a></h3>
    <table summary="movement keys">
      <tr>
        <th class="center">Key</th>
        <th class="left">Moves ...</th>
      </tr>
      <tr>
        <td class="center"><code>j</code></td>
        <td>down</td>
      </tr>
      <tr>
        <td class="center"><code>k</code></td>
        <td>up</td>
      </tr>
      <tr>
        <td class="center"><code>h</code></td>
        <td>left</td>
      </tr>
      <tr>
        <td class="center"><code>l</code></td>
        <td>right</td>
      </tr>
      <tr>
        <td class="center"><code>0</code></td>
        <td>beginning of line</td>
      </tr>
      <tr>
        <td class="center"><code>$</code></td>
        <td>end of line</td>
      </tr>
      <tr>
        <td class="center"><code>^</code></td>
        <td>first non-whitespace character on line</td>
      </tr>
      <tr>
        <td class="center"><code>w</code></td>
        <td>next word</td>
      </tr>
      <tr>
        <td class="center"><code>b</code></td>
        <td>previous word</td>
      </tr>
      <tr>
        <td class="center"><code>gg</code></td>
        <td>top of file</td>
      </tr>
      <tr>
        <td class="center"><code>G</code></td>
        <td>bottom of file</td>
      </tr>
      <tr>
        <td class="center">
          line number<br>
          followed by <code>G</code>
        </td>
        <td>to line number</td>
      </tr>
      <tr>
        <td class="center">ctrl-<code>f</code></td>
        <td>forward one page</td>
      </tr>
      <tr>
        <td class="center">ctrl-<code>b</code></td>
        <td>backward one page</td>
      </tr>
      <tr>
        <td class="center"><code>%</code></td>
        <td>to matching delimiter when cursor is on one<br>
          of the following delimiters <code>{ } [ ] ( ) /* */</code>
        </td>
      </tr>
    </table>

    <h3><a name="WritingAndQuitting">Writing and Quitting</a></h3>
    <table summary="writing and quitting commands">
      <tr>
        <th class="center">Command</th>
        <th class="left">Action</th>
      </tr>
      <tr>
        <td class="center"><code>:w</code></td>
        <td>writes current buffer to associated file</td>
      </tr>
      <tr>
        <td class="center"><code>:w</code><i>file-path</i></td>
        <td>writes current buffer to specified file</td>
      </tr>
      <tr>
        <td class="center"><code>:q</code></td>
        <td>quits Vim, but not if there are unsaved changes</td>
      </tr>
      <tr>
        <td class="center"><code>:q!</code></td>
        <td>quits Vim even if there are unsaved changes</td>
      </tr>
      <tr>
        <td class="center"><code>:wq</code></td>
        <td>writes and quits</td>
      </tr>
    </table>

    <h3><a name="netrw">netrw</a></h3>
    <div>
      Many people who use Vim only occasionally quit out
      of Vim and restart it in order to edit a different file.
      This is unnecessary.
      The netrw utility that comes with Vim
      makes it easy to locate and open multiple files.
    </div>
    <div>
      netrw stands for "NETwork oriented Reading, Writing, and browsing".
      While it does "net" things, it is also
      really great for exploring the file system.
      Some people prefer to use plugins such as NerdTree for this,
      but netrw works great and doesn't require configuration or a plugin.
    </div>
    <div>
      To open a netrw "explorer" in the current window,
      enter <code>:E</code>.
      To open one on the left side of a new vertical split,
      enter <code>:Ve</code>.
      To open one when starting Vim, start it with
      <code>vim +E</code> or <code>vim .</code>.
    </div>
    <div>
      Here's a screenshot of the netrw explorer.
    </div>
    <img src="netrw1.png" alt="netrw screenshot #1">
    <div>
      Here's a screenshot after pressing enter
      with the cursor on the "pics" directory.
      Doing this navigates into the directory
      and displays the files and directories found there.
    </div>
    <img src="netrw2.png" alt="netrw screenshot #2">
    <div>
      Use normal motion keys to move the cursor to a file or directory name.
      Use the commands described below to
      operate on the file under the cursor.
    </div>
    <table summary="netrw commands">
      <tr>
        <th class="center">Command</th>
        <th class="left">Action</th>
      </tr>
      <tr>
        <td class="center">enter</td>
        <td>opens file for editing or directory for further navigating</td>
      </tr>
      <tr>
        <td class="center"><code>R</code></td>
        <td>renames file or directory; will prompt for new name</td>
      </tr>
      <tr>
        <td class="center"><code>D</code></td>
        <td>deletes file or directory (if empty)</td>
      </tr>
    </table>
    <div>
      For more information on netrw, see
      <a href="https://shapeshed.com/vim-netrw/">https://shapeshed.com/vim-netrw/</a>.
    </div>

    <h3><a name="Buffers">Buffers</a></h3>
    <div>
      When multiple files are opened in a Vim session
      each is held in its own buffer.
      Here are commands that operate on buffers.
    </div>
    <table summary="buffer commands">
      <tr>
        <th class="center">Command</th>
        <th class="left">Action</th>
      </tr>
      <tr>
        <td class="center"><code>:ls</code></td>
        <td>lists all current buffers</td>
      </tr>
      <tr>
        <td class="center"><code>b</code> followed by a<br>buffer number</td>
        <td>opens specified buffer</td>
      </tr>
      <tr>
        <td class="center"><code>bd</code>
          followed by a<br>space-separated list<br>of buffer numbers</td>
        <td>deletes specified buffers,
          but not their associated files;<br>
          Deleted buffers will no longer appear
          in <code>:ls</code> output.</td>
      </tr>
    </table>
    <div>
      Here's a screenshot after entering :ls with a few buffers opened.
    </div>
    <img src="ls-buffers.png" alt="ls buffers screenshot">
    <div>
      To open the <code>phones.txt</code> buffer, enter <code>b4</code>.
    </div>

    <h3><a name="Splits">Splits</a></h3>
    <div>
      It is useful to view two or more files simultaneously.
      To do this, open the corresponding buffers in a different "splits".
      Splits also make it easier to copy content from one file
      and paste in another.
      They can also be used to view multiple parts
      of the same file simultaneously.
      Here are commands that operate on splits.
    </div>
    <table summary="buffer commands">
      <tr>
        <th class="center">Command</th>
        <th class="left">Action</th>
      </tr>
      <tr>
        <td class="center">ctrl-ws or<br><code>:split</code> or<br>just <code>:sp</code></td>
        <td>splits current window horizontally</td>
      </tr>
      <tr>
        <td class="center">ctrl-wv or<br><code>:vsplit</code> or<br>just <code>:vs</code></td>
        <td>splits current window vertically</td>
      </tr>
      <tr>
        <td class="center">ctrl-wq or<br><code>:close</code> or<br>just <code>:clo</code></td>
        <td>closes current split</td>
      </tr>
      <tr>
        <td class="center"><code>:only</code> or<br>just <code>:on</code></td>
        <td>closes all splits except current one</td>
      </tr>
      <tr>
        <td class="center">ctrl-ww</td>
        <td>moves cursor to next split;<br>
          press repeatedly to cycle between them</td>
      </tr>
    </table>

    <h3><a name="Macros">Macros</a></h3>
    <div>
      Macros record a series of keystrokes and assign them to a Vim register
      so they can be replayed by a key combination.
      Here are commands for creating and running macros.
    </div>
    <table summary="buffer commands">
      <tr>
        <th class="center">Command</th>
        <th class="left">Action</th>
      </tr>
      <tr>
        <td class="center"><code>q</code> followed by<br>a register letter</td>
        <td>begins recording a macro in the specified register</td>
      </tr>
      <tr>
        <td class="center"><code>q</code></td>
        <td>when already recording a macro, ends the recording</td>
      </tr>
      <tr>
        <td class="center"><code>@</code> followed by<br>a register letter</td>
        <td>executes the macro in the specified register</td>
      </tr>
      <tr>
        <td class="center"><code>@@</code></td>
        <td>executes the last macro that was executed;<br>
          faster than typing <code>@</code> and a register letter
          for repeated execution</td>
      </tr>
    </table>
    <div>
      It may not be obvious why macros are useful,
      so let's walk through an example.
    </div>
    <div>
      Suppose you are editing a text file that contains many
      phone numbers formatted like "123-456-7890" and
      you need to change them to "(123)456-7890".
      You can create a macro to do this by
      moving the cursor to the beginning of a phone number
      and pressing the following keys
      (where <code>esc</code> is the escape key):<br>
      <code>qpi(escllllr)q</code>
    </div>
    <div>
      Let's break this down.<br>
      <code>qp</code> begins recording a macro in the p register.<br>
      <code>i(esc</code> enters insert mode, inserts a left paren,
      and exits insert mode.<br>
      <code>llll</code> moves right four characters.
      This could also be done with <code>4l</code>.<br>
      <code>r)</code> replaces the character under the cursor,
      a dash in this case, with a right paren.<br>
      <code>q</code> ends the macro recording.
    </div>
    <div>
      Now that the macro has been recorded, move to
      other phone numbers and press <code>@p</code> to format them.
      After the macro has been run once,
      it can also be run again by pressing <code>@@</code>.
    </div>
    <div>
      To make this even better, add a command at the end of the macro
      to automatically find the next phone number in the file.
      This could be done with <code>/\d\{3}-\d\{3}-\d\{4}enter</code>.
      This finds a phone number using a regular expression
      where <code>\d</code> represents a digit and
      <code>{n}</code> represents a number of consecutive occurrences.
      The opening braces must be escaped with backslashes.
      Once this is in place, the macro can be run a specified number
      of times by entering a number followed by <code>@p</code>.
      For example, to fix the next ten phone numbers
      beginning with the one starting at the cursor position
      enter <code>10@p</code>.
    </div>
    <div>
      While this example is not related to software development,
      similar reformatting is frequently needed in that setting.
    </div>
    <div>
      Macros are one of the reasons I cannot bear to use another editor.
      There are too many occasions where macros save me a tremendous
      amount of time to consider using an editor that doesn't support them.
    </div>

    <h3><a name="Summary">Summary</a></h3>
    <div>
      This article covered everything you need to know to make effective
      use of Vim.  Of course it can be made even better by configuring
      certain aspects in a <code>.vimrc</code> file
      or adding the use of plugins.
      But those are more advanced topics that you can learn about elsewhere.
    </div>
    <div>
      Using Vim has been a game changer for me.
      I believe that by adopting Vim you will make yourself
      more productive and happier when editing text files!
    </div>
    <div>
      Please send feedback on this article to
      <a href="mailto:mark@objectcomputing.com">mark@objectcomputing.com</a>.
    </div>

    <h3><a name="Acknowledgments">Acknowledgments</a></h3>
    <div>
      I want to thank Charles Sharp (Object Computing, Inc.)
      for reviewing this article and making it better!
    </div>
  </body>
</html>
